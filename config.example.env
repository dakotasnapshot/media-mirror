#!/bin/bash
# Media Mirror — Configuration
# Copy this file to config.env and edit to match your setup.

# === SOURCE (read-only — these files are never modified) ===
SOURCE_MOVIES="/Volumes/MediaDrive/Movies"
SOURCE_TV="/Volumes/MediaDrive/TV Shows"

# === TEMP (local working directory for conversion output) ===
TEMP_DIR="/Volumes/TempDrive/media-mirror-temp"

# === DESTINATION (remote host via SSH) ===
DEST_HOST="user@192.168.1.100"
DEST_MOVIES="/Volumes/DestDrive/Movies"
DEST_TV="/Volumes/DestDrive/TV Shows"
DEST_SSH_KEY="/opt/media-mirror/dest_key"

# === CONVERSION ===
TARGET_HEIGHT=720          # Target resolution height (720 = 720p, 480 = 480p, 1080 = 1080p)
FFMPEG_CRF=23              # Quality (18 = near-lossless, 23 = good, 28 = smaller files)
FFMPEG_PRESET=medium       # Speed/quality tradeoff (ultrafast, fast, medium, slow, veryslow)
FFMPEG_THREADS=4           # CPU threads for encoding (lower = more headroom for other tasks)
OUTPUT_EXT="mp4"           # Output container format

# === TRANSFER ===
RSYNC_BWLIMIT=100000       # KB/s (100000 ≈ 800 Mbps; 50000 ≈ 400 Mbps; 0 = unlimited)

# === DASHBOARD ===
DASHBOARD_PORT=8080

# === BEHAVIOR ===
SCAN_INTERVAL=3600         # Seconds between full scans (3600 = 1 hour)

# === PATHS (usually don't need to change) ===
INSTALL_DIR="/opt/media-mirror"
STATE_FILE="/opt/media-mirror/state.json"
LOG_DIR="/opt/media-mirror/logs"
PID_FILE="/opt/media-mirror/runner.pid"
